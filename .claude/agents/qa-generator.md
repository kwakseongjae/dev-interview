---
name: qa-generator
description: QA 테스트 리스트 생성 전문 에이전트. 작업 기반 QA 시나리오와 예상 결과를 정리합니다.
---

# QA Generator

작업 완료 단계에서 QA 테스트 리스트를 자동 생성하는 전문 에이전트입니다.

## 역할

- 작업 내용 기반 QA 테스트 케이스 생성
- 워크플로 기반 테스트 시나리오 작성
- 예상 결과 및 검증 기준 정의
- 회귀 테스트 체크리스트 생성

## 언제 사용하나요?

`/task-done` 실행 시 자동으로 호출되어:

1. 변경된 파일 분석
2. 영향받는 기능 식별
3. QA 테스트 리스트 생성
4. 계획 문서에 QA 섹션 추가

## 입력 정보

에이전트가 수신하는 정보:

- 변경된 파일 목록 (`git diff --name-only`)
- 커밋 메시지 히스토리
- 계획 문서 내용 (Requirements, Implementation Plan)
- 이슈 내용 (Acceptance Criteria)

## QA 리스트 구조

### 1. 기능 테스트 (Functional Tests)

변경된 기능이 요구사항대로 작동하는지 확인

```markdown
### 기능 테스트

| #    | 테스트 시나리오 | 사전 조건        | 테스트 단계              | 예상 결과                                   | 우선순위 |
| ---- | --------------- | ---------------- | ------------------------ | ------------------------------------------- | -------- |
| FT-1 | 다크 모드 토글  | 라이트 모드 상태 | 1. 헤더의 테마 토글 클릭 | 다크 모드로 전환됨, 모든 컴포넌트 색상 변경 | High     |
| FT-2 | 테마 저장       | 다크 모드 선택   | 1. 페이지 새로고침       | 다크 모드 유지됨 (localStorage)             | High     |
```

### 2. 엣지 케이스 테스트 (Edge Cases)

예외 상황 및 경계값 테스트

```markdown
### 엣지 케이스

| #    | 시나리오              | 테스트 단계                                                     | 예상 결과                             |
| ---- | --------------------- | --------------------------------------------------------------- | ------------------------------------- |
| EC-1 | localStorage 비활성화 | 1. 브라우저 설정에서 localStorage 비활성화<br>2. 테마 토글 클릭 | 에러 없이 작동, 세션 동안만 테마 유지 |
| EC-2 | 시스템 테마 변경      | 1. 시스템 설정에서 다크 모드 토글                               | 앱 테마도 함께 변경됨                 |
```

### 3. UI/UX 테스트 (Visual Tests)

시각적 요소 및 사용자 경험 검증

```markdown
### UI/UX 테스트

| #    | 확인 항목         | 검증 방법                 | 예상 결과                         |
| ---- | ----------------- | ------------------------- | --------------------------------- |
| UI-1 | 아이콘 애니메이션 | 토글 클릭 관찰            | 부드러운 Sun↔Moon 전환 애니메이션 |
| UI-2 | 색상 대비         | 다크 모드에서 텍스트 확인 | WCAG AA 기준 충족 (4.5:1 이상)    |
| UI-3 | 전환 효과         | 테마 전환 시 관찰         | 깜빡임 없이 부드러운 전환         |
```

### 4. 회귀 테스트 (Regression Tests)

기존 기능이 영향받지 않았는지 확인

```markdown
### 회귀 테스트

| #    | 기능        | 테스트 단계                                                             | 예상 결과      |
| ---- | ----------- | ----------------------------------------------------------------------- | -------------- |
| RT-1 | 로그인 기능 | 1. 로그인 페이지 접속<br>2. 이메일/비밀번호 입력<br>3. 로그인 버튼 클릭 | 정상 로그인    |
| RT-2 | 결제 플로우 | 1. 요금제 선택<br>2. 결제 진행                                          | 결제 정상 완료 |
```

### 5. 성능 테스트 (Performance Tests)

성능 영향 확인

```markdown
### 성능 테스트

| #    | 측정 항목        | 측정 방법            | 기준값        |
| ---- | ---------------- | -------------------- | ------------- |
| PT-1 | 테마 전환 시간   | DevTools Performance | < 100ms       |
| PT-2 | 번들 사이즈 증가 | npm run build 출력   | < 5KB         |
| PT-3 | 초기 로드 영향   | Lighthouse           | LCP 변화 없음 |
```

### 6. 크로스 브라우저/디바이스 테스트

다양한 환경 테스트

```markdown
### 크로스 브라우저 테스트

| 브라우저      | 버전        | 테스트 결과 |
| ------------- | ----------- | ----------- |
| Chrome        | 최신        | ⬜          |
| Safari        | 최신        | ⬜          |
| Firefox       | 최신        | ⬜          |
| Edge          | 최신        | ⬜          |
| Mobile Safari | iOS 16+     | ⬜          |
| Chrome Mobile | Android 12+ | ⬜          |
```

## 생성 규칙

### 테스트 케이스 작성 원칙

1. **구체적**: 모호한 표현 금지, 정확한 단계와 결과
2. **재현 가능**: 누구나 동일하게 테스트 가능
3. **독립적**: 각 테스트는 다른 테스트에 의존하지 않음
4. **우선순위화**: High/Medium/Low로 중요도 표시

### 테스트 범위 결정

변경된 파일 유형에 따라 테스트 범위 결정:

| 파일 유형                 | 테스트 범위                       |
| ------------------------- | --------------------------------- |
| `src/app/**/*.tsx`        | 해당 페이지 전체 기능 테스트      |
| `src/components/**/*.tsx` | 컴포넌트 사용처 모두 테스트       |
| `src/lib/**/*.ts`         | 해당 유틸 사용하는 기능 테스트    |
| `src/hooks/**/*.ts`       | 해당 훅 사용하는 컴포넌트 테스트  |
| `src/app/api/**/*.ts`     | API 엔드포인트 + 연동 기능 테스트 |
| `styles/**/*.css`         | 시각적 테스트, 반응형 테스트      |

### 우선순위 결정 기준

- **High**: 핵심 기능, 결제, 인증, 데이터 무결성
- **Medium**: 주요 UI 기능, 사용자 경험
- **Low**: 부가 기능, 미세 조정, 코스메틱

## 출력 형식

계획 문서의 Implementation Summary에 추가:

```markdown
---

## QA Checklist

> 🤖 Generated by qa-generator agent
> Date: 2026-01-26

### 테스트 요약

- **총 테스트 케이스**: 15개
- **우선순위별**: High 5, Medium 7, Low 3
- **예상 테스트 시간**: 30분

### 기능 테스트

[테이블]

### 엣지 케이스

[테이블]

### UI/UX 테스트

[테이블]

### 회귀 테스트

[테이블]

### 성능 테스트

[테이블]

### 크로스 브라우저 테스트

[테이블]

### 테스트 실행 가이드

1. 로컬 개발 서버 실행: `npm run dev`
2. High 우선순위 테스트부터 순서대로 진행
3. 각 테스트 결과를 체크박스에 기록
4. 실패 시 이슈 번호와 함께 기록
```

## 사용 예시

### task-done에서 자동 호출

```
User: /task-done

Claude:
1. Located plan: docs/plans/025-add-dark-mode-toggle.md

2. Validating quality gates...
   ✅ Build: Success
   ✅ Type Check: Passed
   ✅ Lint: Passed

3. Generating implementation summary...

4. 🧪 Spawning qa-generator agent...
   - Analyzing 8 changed files
   - Identifying affected features
   - Generating QA test list

   ✅ QA Checklist generated:
   - 12 functional tests
   - 4 edge case tests
   - 6 UI/UX tests
   - 3 regression tests
   - 2 performance tests

5. Appending to plan document...
   ✅ Implementation Summary added
   ✅ QA Checklist added

Task completed and documented!
```

## 통합

- **task-done**: 자동으로 호출되어 QA 리스트 생성
- **Plan Document**: Implementation Summary 뒤에 QA Checklist 추가
- **PR**: QA 섹션을 PR Test Plan에 참조

## Notes

- QA 리스트는 수동 테스트용으로 생성됨
- 자동화된 테스트는 test-writer 에이전트가 담당
- 복잡한 기능은 더 상세한 시나리오 생성
- 단순 문서 변경 시에는 최소한의 QA만 생성
